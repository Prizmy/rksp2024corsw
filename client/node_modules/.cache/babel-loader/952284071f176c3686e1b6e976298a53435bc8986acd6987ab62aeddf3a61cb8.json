{"ast":null,"code":"import React,{useState}from'react';import{Button,Col,ListGroup,Modal,Row}from\"react-bootstrap\";import{NavLink}from\"react-router-dom\";import{fetchChangeStatusOrder,fetchDeleteOrder}from\"../http/ordersAPI\";import{ORDERS_ROUTE}from\"../utils/consts\";import{jsxs as _jsxs,jsx as _jsx,Fragment as _Fragment}from\"react/jsx-runtime\";const ItemOneOrderInAdmin=_ref=>{let{id,complete,mobile,createdAt,updatedAt,userId,reRender}=_ref;const[modalDelete,setShowDelete]=useState(false);const[modalStatus,setShowStatus]=useState(false);//modal delete\nconst handleCloseDelete=()=>setShowDelete(false);const handleShowDelete=()=>setShowDelete(true);const deleteOrder=()=>{fetchDeleteOrder({id}).then(()=>{setShowStatus(false);setTimeout(()=>reRender(),250);});};//modal status\nconst handleCloseStatus=()=>setShowStatus(false);const handleShowStatus=()=>setShowStatus(true);const changeStatusOrder=()=>{fetchChangeStatusOrder({complete:!complete,id}).then(()=>{setShowStatus(false);setTimeout(()=>reRender(),250);});};//Format date (createdAt)\nconst formatDate=propsDate=>{const date=new Date(Date.parse(propsDate));const options={weekday:\"short\",hour:'numeric',minute:'numeric',year:'numeric',month:'numeric',day:'numeric',timezone:'UTC'};return date.toLocaleString(\"en-US\",options);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(ListGroup.Item,{className:\"mt-3\",children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsxs(Col,{md:8,children:[/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{xs:12,children:/*#__PURE__*/_jsxs(NavLink,{to:ORDERS_ROUTE+\"/\".concat(id),children:[\"id: \",id]})})}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsxs(Col,{xs:12,children:[\"Phone: \",/*#__PURE__*/_jsx(\"a\",{href:\"tel:\".concat(mobile),children:mobile})]})}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsxs(Col,{xs:12,children:[\"Order created: \",formatDate(createdAt)]})}),complete?/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsxs(Col,{xs:12,children:[\"Order completed: \",formatDate(updatedAt)]})}):false,/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{xs:12,children:userId?\"Buyer: Registered\":\"Buyer: Not registered\"})}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsxs(Col,{xs:12,children:[\"Status: \",complete?\"Completed\":\"In progress\"]})})]}),/*#__PURE__*/_jsx(Col,{md:4,children:/*#__PURE__*/_jsxs(Row,{style:{height:\"100%\"},className:\"d-flex align-items-center\",children:[/*#__PURE__*/_jsx(Col,{xs:6,className:\"d-flex justify-content-center\",children:complete?/*#__PURE__*/_jsx(Button,{variant:\"success\",onClick:handleShowStatus,children:\"Make not complete\"}):/*#__PURE__*/_jsx(Button,{variant:\"warning\",onClick:handleShowStatus,children:\"Make Completed\"})}),/*#__PURE__*/_jsx(Col,{xs:6,className:\"d-flex justify-content-center\",children:/*#__PURE__*/_jsx(Button,{variant:\"danger\",onClick:handleShowDelete,children:\"Delete\"})})]})})]})},id),/*#__PURE__*/_jsxs(Modal,{show:modalStatus,onHide:handleCloseStatus,children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:\"Please confirm\"})}),/*#__PURE__*/_jsxs(Modal.Body,{children:[\"Do you want changes status for this order(id: \",id,\"), from \",complete?'\\'Completed\\'':'\\'In progress\\'',\" to \",complete?'\\'In progress\\'':'\\'Completed\\'',\"?\",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),\"Data:\",/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsxs(\"li\",{children:[\"mobile: \",mobile]}),/*#__PURE__*/_jsxs(\"li\",{children:[\"Order CreatedAt: \",formatDate(createdAt)]}),complete?\"Order completed: \".concat(formatDate(updatedAt)):false,/*#__PURE__*/_jsxs(\"li\",{children:[\"Status: \",complete?'Completed':\"In progress\"]}),/*#__PURE__*/_jsx(\"li\",{children:userId?'Buyer registered':\"Buyer not registered\"})]})]}),/*#__PURE__*/_jsxs(Modal.Footer,{children:[/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:handleCloseStatus,children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:changeStatusOrder,children:\"Confirm\"})]})]}),/*#__PURE__*/_jsxs(Modal,{show:modalDelete,onHide:handleCloseDelete,children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:\"Please confirm\"})}),/*#__PURE__*/_jsxs(Modal.Body,{children:[\"Do you want delete this order(id: \",id,\")?\",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),\"Data:\",/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsxs(\"li\",{children:[\"mobile: \",mobile]}),/*#__PURE__*/_jsxs(\"li\",{children:[\"Order CreatedAt: \",formatDate(createdAt)]}),complete?\"Order completed: \".concat(formatDate(updatedAt)):false,/*#__PURE__*/_jsxs(\"li\",{children:[\"Status: \",complete?'Completed':\"In progress\"]}),/*#__PURE__*/_jsx(\"li\",{children:userId?'Buyer registered':\"Buyer not registered\"})]})]}),/*#__PURE__*/_jsxs(Modal.Footer,{children:[/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:handleCloseDelete,children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:deleteOrder,children:\"Confirm\"})]})]})]});};export default ItemOneOrderInAdmin;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}