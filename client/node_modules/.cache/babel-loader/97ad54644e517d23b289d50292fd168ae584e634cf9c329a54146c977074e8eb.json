{"ast":null,"code":"import React,{useEffect,useState}from'react';import{Col,Container,Image,Row,Spinner}from\"react-bootstrap\";import{useParams}from\"react-router-dom\";import{getOneOrderDevices}from\"../http/ordersAPI\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const OneOrder=()=>{const{id}=useParams();const[loading,setLoading]=useState(true);const[order,setOrder]=useState([]);useEffect(()=>{getOneOrderDevices(id).then(data=>{setOrder(data);setLoading(false);console.log(order);});},[]);if(loading){return/*#__PURE__*/_jsx(Spinner,{animation:\"grow\"});}//Format date (createdAt)\nconst formatDate=propsDate=>{const date=new Date(Date.parse(propsDate));const options={weekday:\"short\",hour:'numeric',minute:'numeric',year:'numeric',month:'numeric',day:'numeric',timezone:'UTC'};return date.toLocaleString(\"en-US\",options);};return/*#__PURE__*/_jsxs(Container,{className:\"d-flex flex-column\",children:[\"Order id: \",id,\" \",/*#__PURE__*/_jsx(\"br\",{}),\"Complete: \",order!==null&&order!==void 0&&order.descr.complete?\"Completed\":\"Not complete\",\" \",/*#__PURE__*/_jsx(\"br\",{}),\"User: \",order!==null&&order!==void 0&&order.descr.userId?order.descr.userId:\"User didn't register\",\" \",/*#__PURE__*/_jsx(\"br\",{}),\"Created: \",formatDate(order===null||order===void 0?void 0:order.descr.createdAt),\" \",/*#__PURE__*/_jsx(\"br\",{}),order!==null&&order!==void 0&&order.descr.complete?formatDate(order.descr.complete.updatedAt):false,/*#__PURE__*/_jsxs(\"a\",{href:\"tel:\".concat(order===null||order===void 0?void 0:order.descr.mobile),children:[\"Mobile: \",order===null||order===void 0?void 0:order.descr.mobile]}),/*#__PURE__*/_jsx(\"br\",{}),order===null||order===void 0?void 0:order.devices.map((_ref,i)=>{let{count,descr}=_ref;return/*#__PURE__*/_jsxs(Row,{className:\"mb-5\",children:[/*#__PURE__*/_jsx(Col,{xs:2,children:/*#__PURE__*/_jsx(Image,{width:150,src:process.env.REACT_APP_API_URL+descr.img})}),/*#__PURE__*/_jsxs(Col,{xs:10,children:[\"Brand: \",descr.brand.name,/*#__PURE__*/_jsx(\"br\",{}),\"Type: \",descr.type.name,/*#__PURE__*/_jsx(\"br\",{}),\"Name: \",descr.name,/*#__PURE__*/_jsx(\"br\",{}),\"Price: \",descr.price,\" RUB\",/*#__PURE__*/_jsx(\"br\",{}),\"Count: \",count,/*#__PURE__*/_jsx(\"br\",{}),\"Total price: \",count*descr.price,\" RUB\"]})]},i);})]});};export default OneOrder;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}