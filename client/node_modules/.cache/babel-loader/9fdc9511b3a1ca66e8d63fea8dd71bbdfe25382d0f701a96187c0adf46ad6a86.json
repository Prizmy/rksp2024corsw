{"ast":null,"code":"import React,{useContext,useState}from'react';import{NavLink,useLocation,useNavigate}from\"react-router-dom\";import{Button,Card,Container,Form,Row}from\"react-bootstrap\";import{LOGIN_ROUTE,REGISTRATION_ROUTE,SHOP_ROUTE}from\"../utils/consts\";import{login,registration}from\"../http/userApi\";import{observer}from\"mobx-react-lite\";import{Context}from\"../index\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Auth=observer(()=>{const{user}=useContext(Context);const navigate=useNavigate();// Заменяем useHistory на useNavigate\nconst location=useLocation();const isLogin=location.pathname===LOGIN_ROUTE;const[email,setEmail]=useState('');const[password,setPassword]=useState('');const click=async()=>{try{let data;if(isLogin){data=await login(email,password);}else{data=await registration(email,password);}user.setUser(data);user.setIsAuth(true);navigate(SHOP_ROUTE);// Используем navigate вместо history.push\n}catch(e){alert(e.response.data.message);}};return/*#__PURE__*/_jsx(Container,{className:\"d-flex justify-content-center align-items-center\",style:{height:window.innerHeight-54},children:/*#__PURE__*/_jsxs(Card,{style:{width:600},className:\"p-5\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"m-auto\",children:isLogin?\"Authorization\":\"Registration\"}),/*#__PURE__*/_jsxs(Form,{className:\"d-flex flex-column\",children:[/*#__PURE__*/_jsx(Form.Control,{className:\"mt-3\",placeholder:\"Input your Email...\",value:email,onChange:e=>setEmail(e.target.value)}),/*#__PURE__*/_jsx(Form.Control,{className:\"mt-3\",placeholder:\"Input password...\",value:password,onChange:e=>setPassword(e.target.value),type:\"password\"}),/*#__PURE__*/_jsxs(Row,{className:\"d-flex justify-content-between mt-3 pl-3 pr-3 align-items-center\",children:[isLogin?/*#__PURE__*/_jsxs(\"div\",{children:[\"Haven't account? \",/*#__PURE__*/_jsx(NavLink,{to:REGISTRATION_ROUTE,children:\"Sign In\"})]}):/*#__PURE__*/_jsxs(\"div\",{children:[\"Has account? \",/*#__PURE__*/_jsx(NavLink,{to:LOGIN_ROUTE,children:\"Login\"})]}),/*#__PURE__*/_jsx(Button,{className:\"align-self-end\",variant:\"outline-success\",onClick:click,children:isLogin?\"Login\":\"Registration\"})]})]})]})});});export default Auth;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}