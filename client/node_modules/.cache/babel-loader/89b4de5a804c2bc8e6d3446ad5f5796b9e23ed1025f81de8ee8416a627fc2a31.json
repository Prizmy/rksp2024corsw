{"ast":null,"code":"import React,{useContext,useEffect}from'react';import{Col,Container,Row}from\"react-bootstrap\";import TypeBar from\"../components/TypeBar\";import BrandBar from\"../components/BrandBar\";import DeviceList from\"../components/DeviceList\";import{observer}from\"mobx-react-lite\";import{Context}from\"../index\";import{fetchBrands,fetchDevice,fetchTypes}from\"../http/deviceAPI\";import Pages from\"../components/Pages\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Shop=observer(()=>{const{device}=useContext(Context);useEffect(()=>{fetchTypes().then(data=>device.setTypes(data));fetchBrands().then(data=>device.setBrands(data));fetchDevice(null,null,1,9).then(data=>{device.setDevices(data.rows);device.setTotalCount(data.count);});},[]);useEffect(()=>{if(device.selectedType===\"all\"){fetchDevice(null,device.selectedBrand.id,device.page,9).then(data=>{device.setDevices(data.rows);device.setTotalCount(data.count);});}else{fetchDevice(device.selectedType.id,device.selectedBrand.id,device.page,9).then(data=>{device.setDevices(data.rows);device.setTotalCount(data.count);});}},[device.page,device.selectedType,device.selectedBrand]);return/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsxs(Row,{className:\"mt-3\",children:[/*#__PURE__*/_jsx(Col,{md:3,children:/*#__PURE__*/_jsx(TypeBar,{})}),/*#__PURE__*/_jsxs(Col,{md:9,children:[/*#__PURE__*/_jsx(BrandBar,{}),/*#__PURE__*/_jsx(DeviceList,{}),/*#__PURE__*/_jsx(Pages,{})]})]})});});export default Shop;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}