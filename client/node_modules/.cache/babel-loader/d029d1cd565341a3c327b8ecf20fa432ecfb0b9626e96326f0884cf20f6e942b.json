{"ast":null,"code":"import React,{useEffect,useState}from'react';import{Button,Dropdown,Modal}from\"react-bootstrap\";import{deleteBrand,deleteType,fetchBrands,fetchTypes}from\"../../http/deviceAPI\";import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";const DeleteBrandOrType=_ref=>{let{show,onHide,showSuccessMsgFunc}=_ref;const[brandOrType,setBrandOrType]=useState(\"Brand\");const[brands,setBrands]=useState([]);const[types,setTypes]=useState([]);const[selectBrand,setSelectBrand]=useState({name:\"A Brand not selected\"});const[selectType,setSelectType]=useState({name:\"A type not selected\"});const[showMsgErr,setShowMsgErr]=useState(false);const[msgErr,setMsgErr]=useState('');useEffect(()=>{fetchTypes().then(data=>setTypes(data));fetchBrands().then(data=>setBrands(data));},[]);const Delete=async()=>{if(brandOrType===\"Brand\"){if(selectBrand.name!==\"A Brand not selected\"){await deleteBrand(selectBrand.id).then(data=>{showSuccessMsgFunc(data);onHide();setSelectBrand({name:\"A Brand not selected\"});});}else{setMsgErr(\"Please choose Brand\");setShowMsgErr(true);}}else{if(selectType.name!==\"A Type not selected\"){await deleteType(selectType.id).then(data=>{showSuccessMsgFunc(data);onHide();setSelectType({name:\"A type not selected\"});});}else{setMsgErr(\"Please choose Type\");setShowMsgErr(true);}}};useEffect(()=>setShowMsgErr(false),[selectType,selectBrand,brandOrType]);return/*#__PURE__*/_jsxs(Modal,{show:show,onHide:onHide,size:\"lg\",centered:true,children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:\"Delete Type or Brand\"})}),/*#__PURE__*/_jsxs(Modal.Body,{children:[showMsgErr&&/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"p\",{style:{color:\"red\",textAlign:\"center\"},children:msgErr})}),\"Choose Category:\",/*#__PURE__*/_jsxs(Dropdown,{className:\"mb-3\",style:{margin:\"0 auto\"},children:[/*#__PURE__*/_jsx(Dropdown.Toggle,{variant:\"success\",id:\"dropdown-basic\",children:brandOrType}),/*#__PURE__*/_jsxs(Dropdown.Menu,{children:[brandOrType===\"Brand\"?/*#__PURE__*/_jsx(Dropdown.Item,{disabled:true,children:\"Brand\"}):/*#__PURE__*/_jsx(Dropdown.Item,{onClick:()=>setBrandOrType(\"Brand\"),children:\"Brand\"}),brandOrType===\"Type\"?/*#__PURE__*/_jsx(Dropdown.Item,{disabled:true,children:\"Type\"}):/*#__PURE__*/_jsx(Dropdown.Item,{onClick:()=>setBrandOrType(\"Type\"),children:\"Type\"})]})]}),\"Choose item of \",brandOrType===\"Brand\"?\"Brand\":\"Type\",/*#__PURE__*/_jsxs(Dropdown,{className:\"mb-3\",style:{margin:\"0 auto\"},children:[/*#__PURE__*/_jsx(Dropdown.Toggle,{variant:\"success\",id:\"dropdown-basic\",children:brandOrType===\"Brand\"?selectBrand.name:selectType.name}),/*#__PURE__*/_jsx(Dropdown.Menu,{children:brandOrType===\"Brand\"?brands.map(_ref2=>{let{id,name}=_ref2;return selectBrand.name===name?/*#__PURE__*/_jsx(Dropdown.Item,{disabled:true,children:name},id):/*#__PURE__*/_jsx(Dropdown.Item,{onClick:()=>setSelectBrand({id,name}),children:name},id);}):types.map(_ref3=>{let{id,name}=_ref3;return selectType.name===name?/*#__PURE__*/_jsx(Dropdown.Item,{disabled:true,children:name},id):/*#__PURE__*/_jsx(Dropdown.Item,{onClick:()=>setSelectType({id,name}),children:name},id);})})]})]}),/*#__PURE__*/_jsxs(Modal.Footer,{children:[/*#__PURE__*/_jsx(Button,{variant:\"outline-danger\",onClick:onHide,children:\"Close\"}),/*#__PURE__*/_jsx(Button,{variant:\"outline-success\",onClick:Delete,children:\"Delete\"})]})]});};export default DeleteBrandOrType;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}